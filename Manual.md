# Интрукция
Эта инструкция поможет вам меньше времени тратить на поиск информации и некоторых библиотек в интернете. Тут не обязательно расписан каждый шаг до малейшей подробности, гуглить всё равно придётся часто, например для ответа на вопрос "Как подключится через SSH при помощи PuTTY?".
## Интро
### Установка и настройка ОС
#### Подготовка micro SD карты
Подключаем нашу micro SD карту. Заходим сюда https://www.raspberrypi.org/software/. Скачиваем и запускаем Raspberry Pi Imager. Нажимаем Choose OS. Потом выбираем Raspberry Pi OS (other) -> Raspberry Pi OS Full (32-bit). Если вы готовы потом всё доустанавливать, то можете выбрать Raspberry Pi OS (32-bit). Потом выбираем Choose Storage, тут надо выбрать micro SD карту. И потом нажимаем на кнопку Write. Подробней можно прочитать тут: https://www.raspberrypi.org/documentation/installation/installing-images/.

#### Подготовка ОС
Для этого шага вам потребуется монитор с HDMI проводом, клавиатура, мышка и либо пароль от WiFi, либо LAN. Вставьте mirco SD в Raspberry Pi. Подключите монитрор. Включите питание. Далее следует обыкновенная установка дистрибутива линукс. После этого рекомендую открыть терминал(`Ctrl+Alt+T`) и запустить `sudo apt update`. 

Если у вас нету монитора, то надо в бут сектор micro SD карты добавить пустой файл `ssh`, чтобы можно было сразу подключится через SSH. Дефалтный юзер и пароль - `pi` и `raspberry`.

#### Дистанционное управление (для Windows 10)
Далее вам потребуется разрешить доступ по SSH. Для этого достаточно двух команд: `sudo systemctl enable ssh` и  `sudo systemctl start ssh`. Самый простой способ подключиться к Raspberry Pi по SSH будет через PuTTY. Также, можно воспользоваться Remote Desktop Control(RDP), но не рекомендую, так как юзер experience оставит желать лучшего - очень большой лаг.

### Как писать код
Тут три варианта: писать в консоле по SSH, писать на RPi (или через RDP) и писать локально и потом загружать на RPi. Последний вариант не особо практичен, поэтому остановимся на первых двух. Также можно писать не по SSH, a по RDP, но это не очень приятно. Если хотите страдать, то страдайте.
#### Через SSH
Для этого варианта вам потребуется ознакомится с нормальным консольным редактором, а также его настроить. Скорее всего это будет Vim. Лично я писал проект в Nano, но так делать не рекомендую. Большой плюс этого метода в том, что вам не надо иметь под рукой свободный монитор. Также, не стоит забывать, что можно создать много независимым SSH сессий, о них можно думать как о многих открытых терминалов.
#### На RPi (или через RDP)
Для этого варианта вам потребуется монитор, клавиатура и мышка. Как монитор подойдёт и школьная доска. Вы можете установить графический IDE, но не надо забывать, что PyCharm и т.д. RPi не потянет. Скорее всего можно будет использовать что-то на подобии Code::Blocks и максимум VS Code (если у вас RPi 3). 

## Подключение оборудования
Ознакомьтесь с GPIO, попытайтесь подключить лампочки, сенсоры и реле. для этого достаточно питоновской библиотеки PiGPIO. Можно ещё подключить кнопочную панельку, для этого можете либо ознакомится с библиотекой `pad4pi` или моими файлами `keypad.py` и `kpad.py` для питона, либо ознакомится с этим ответом для C: (пока ссылку не нашёл, можете ознакомиться с файлов `init.c`)
Также попытайтесь подключить камеру, для неё тоже есть питоновская библиотека. 

Я думаю время отметить, что я писал проект в основном на C и использовал совсем немного питона. Если вы хотите всё делать только через питон, то я не знаю библиотеку, которая подключит этот экран (SSD1963 и XPT2046/ADS7843).

### Подключение экрана
#### Графическая часть
Предлагаю ознакомиться с этим репозиторием и его примерами https://github.com/matusnovak/rpi-tftgl. Но до этого в ней надо изменить файл `tftgl/src/tftgl_ssd1963.h` на мой особенный (TODO, взять его с RPi и загрузить). 
Далее есть два варианта - использовать этот репозиторий в коде или написать свой драйвер. 

##### Использовать в коде
Если вы решили использовать библиотеку NanoVG, то рекомендую установить новую версию с гитхаба. https://github.com/memononen/nanovg. Хотя она мне показалась слишком низко уровневой, может быть стоит попытаться найти другой аналог. Также, есть пример её использования в этом репозитории (rpi-tgtgl).

##### Написать драйвер
Я не знаю, если это возможно. Но если вы будете успешны, то вы сможете подключить любую обычную графическую библиотеку. Может быть поможет вот это пост с хабра https://habr.com/ru/post/536110/

#### Сенсорная часть
Можно воспользоваться тем же репозиторием, что и в предыдущей части. Но в ней пример сломан, поэтому рекомендую ознакомится с файлом `test.c`, там правильно конвертируются данные сенсора в координаты на экране.

Есть ещё вероятность, что тоже можно написать драйвер. А после этого в проге эмулировать нажатие мышки.
